# ADR-5 : Secure Files / Docusaurus

**Status:** `Accepted`  
**Date:** `<2025-12-8>`  
**Decision Makers:** `Sina Naghipour`    

---

## Context
we have to build a subsystem within our api so that we could save our files securely, the issue is the logic of naming these files and handling it.

Questions to answer here:  
- What are we trying to solve?  -> add static file subsystem in our system.
- What alternatives exist?  -> we could just blindly save the users file into a random folder.
- Why is a decision needed now?  -> in order to make api more flexible, we have to make a `static` workflow.

---

## Decision
I Decided to build another service which its sole purpose is to handle static files, this would act as both internal and external service.

Questions to answer here:  
- What approach are we taking?  -> extending our existing microservice.
- What technologies, patterns, or methods will be used?  -> we will use `python-magic` and the method for retreieving the file from user is through form data.
- How does this decision solve the problem from the context?  -> this will serve any `static-files` need of our api.

---

## Consequences
the upside, is a separate layer, with its own error handling, business logic, etc. the downside however, is that if it ever goes down, we do not have any access to static files, which is super bad for representation.

Questions to answer here:  
- What benefits do we gain? -> a standalone service with its own develop lifecycle.  
- What costs, risks, or limitations are introduced?  -> could act as bottleneck, since in peak times other services may request a dozen of file from it.
- How does this affect future decisions or system components?  -> we will have to care about maintenance of this service alongside other serivces.

---

## Alternatives Considered
ad-hoc file saving, in each service that may need static files.

Questions to answer here:  
- each service saves its own static files â€“ lots of duplication, adds a lot of computational complexity to each service.    