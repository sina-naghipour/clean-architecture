# ADR-007 : Microservice Architecture
**Status:** `<Proposed | Accepted | Deprecated | Superseded | Rejected>`  
**Date:** `<YYYY-MM-DD>`  
**Decision Makers:** `<List of people or roles involved>`  
**Related ADRs:** `<IDs or links to related ADRs, if any>`  

---

## Context
we have to migrate from a monolith app to a microservice architecture, but our app has been written in architecture mode, so the real issue is how they are connected?

Questions to answer here:  
- What are we trying to solve?  -> how to connect `modules` without coupling them too much.
- What alternatives exist?  -> keep services completely decoupled, and use shared volume or similiar approaches.
- Why is a decision needed now? -> the data flow does not only belong to one service.

---

## Decision
use of grpc, webhooks and a centralized request tracing system that connects modules together.

Questions to answer here:  
- What approach are we taking?  -> use of internal protocol instead of public http endpoints, and webhooks to retrieve events.
- What technologies, patterns, or methods will be used?  -> grpc, opentelemetry, stripe.
- How does this decision solve the problem from the context?  -> using this approach we can trace requests that are going through different services, and implementing circuit breakers in case of a service unavailablity.

---

## Consequences
now some actions are limited, and dependent on other services.

Questions to answer here:  
- What benefits do we gain?  -> each service is only responsible for just a part of the data flow.
- What costs, risks, or limitations are introduced?  -> to give an example, in order to create an order, we definitely should create a payment, otherwise it is failed.
- How does this affect future decisions or system components?  -> when developing each service, we also have to worry about dependent services.

---

## Alternatives Considered
use shared volumes, databases, or similar approaches.

Questions to answer here:  
- use shared volume - we could use shared files, databases, etc and define a watchdog in each service, but this has a huge overhead, and not convinient in our case.


---

