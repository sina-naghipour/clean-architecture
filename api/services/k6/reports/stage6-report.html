<!DOCTYPE html>
<html>
<head>
    <title>Stage 6 - k6 Test Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { max-width: 1000px; margin: 0 auto; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; }
        .card { background: white; padding: 25px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .metric-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
        .metric { background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; }
        .metric-value { font-size: 24px; font-weight: bold; margin: 5px 0; }
        .metric-label { color: #666; font-size: 14px; }
        .status-pass { color: #10b981; font-weight: bold; }
        .status-fail { color: #ef4444; font-weight: bold; }
        .status-warn { color: #f59e0b; font-weight: bold; }
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #e5e7eb; }
        th { background: #f8fafc; font-weight: 600; }
        tr:hover { background: #f8fafc; }
        .tag { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; margin: 2px; }
        .tag-nginx { background: #dbeafe; color: #1e40af; }
        .tag-docker { background: #dcfce7; color: #166534; }
        .tag-slo { background: #fef3c7; color: #92400e; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Stage 6 - Containers & Deployment Report</h1>
            <p>NGINX Reverse Proxy & API Gateway Validation</p>
            <p>Generated: 2025-12-21T07:51:40.295Z</p>
        </div>
        
        <div class="card">
            <h2>Test Summary</h2>
            <div style="font-size: 48px; text-align: center; margin: 30px 0;">
                âœ…
            </div>
            <div style="text-align: center; font-size: 24px; margin-bottom: 20px;" class="status-pass">
                ALL TESTS PASSED
            </div>
        </div>
        
        <div class="card">
            <h2>Service Health</h2>
            <div class="metric-grid">
                <div class="metric">
                    <div class="metric-label">NGINX Gateway</div>
                    <div class="metric-value">âœ…</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Auth Service</div>
                    <div class="metric-value">âœ…</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Products Service</div>
                    <div class="metric-value">âœ…</div>
                </div>
                <div class="metric">
                    <div class="metric-label">All Services</div>
                    <div class="metric-value">âœ…</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>SLO Compliance</h2>
            <table>
                <tr>
                    <th>SLO Metric</th>
                    <th>Target</th>
                    <th>Actual</th>
                    <th>Status</th>
                </tr>
                <tr>
                    <td>p95 Latency</td>
                    <td>< 1000ms</td>
                    <td>3.00ms</td>
                    <td class="status-pass">PASS</td>
                </tr>
                <tr>
                    <td>Error Rate</td>
                    <td>< 5.0%</td>
                    <td>0.00%</td>
                    <td class="status-pass">PASS</td>
                </tr>
                <tr>
                    <td>Throughput</td>
                    <td>> 10 RPS</td>
                    <td>84.69 RPS</td>
                    <td class="status-pass">PASS</td>
                </tr>
            </table>
        </div>
        
        <div class="card">
            <h2>Key Metrics</h2>
            <div class="metric-grid">
                <div class="metric">
                    <div class="metric-label">Total Requests</div>
                    <div class="metric-value">22033</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Error Rate</div>
                    <div class="metric-value">0.00%</div>
                </div>
                <div class="metric">
                    <div class="metric-label">p95 Latency</div>
                    <div class="metric-value">3.00ms</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Throughput</div>
                    <div class="metric-value">84.69 RPS</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>Requirements Checklist</h2>
            <table>
                <tr>
                    <td>âœ… Docker containers running</td>
                    <td><span class="tag tag-docker">Docker</span></td>
                </tr>
                <tr>
                    <td>âœ… NGINX reverse proxy configured</td>
                    <td><span class="tag tag-nginx">NGINX</span></td>
                </tr>
                <tr>
                    <td>âœ… Health checks implemented</td>
                    <td><span class="tag tag-docker">Healthcheck</span></td>
                </tr>
                <tr>
                    <td>âœ… Rate limiting (10r/s)</td>
                    <td><span class="tag tag-nginx">Rate Limit</span></td>
                </tr>
                <tr>
                    <td>âœ… Gzip compression enabled</td>
                    <td><span class="tag tag-nginx">Gzip</span></td>
                </tr>
                <tr>
                    <td>âœ… Timeouts configured (30s)</td>
                    <td><span class="tag tag-nginx">Timeout</span></td>
                </tr>
                <tr>
                    <td>âœ… SLOs met (p95 < 1s, errors < 5%)</td>
                    <td><span class="tag tag-slo">SLO</span></td>
                </tr>
                <tr>
                    <td>ðŸ”² Zero-downtime swap demonstrated</td>
                    <td><span class="tag tag-docker">Blue/Green</span></td>
                </tr>
            </table>
        </div>
        
        <div class="card">
            <h2>Test Configuration</h2>
            <p><strong>Base URL:</strong> http://localhost:80</p>
            <p><strong>Services Tested:</strong> nginx, auth, products</p>
            <p><strong>Test Duration:</strong> 45 seconds total (15s smoke + 30s load)</p>
            <p><strong>Virtual Users:</strong> Up to 10 concurrent users</p>
        </div>
    </div>
</body>
</html>